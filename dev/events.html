<!DOCTYPE html>
<html>

<head>
  <title>Events</title>
  <meta charset="UTF-8" />
</head>

<body>
  <button id="button">Click Me</button>
  <pre id="log"></pre>

  <script>
    function log(text) {
      document.getElementById("log").innerText =
        document.getElementById("log").innerText + text + "\n";
    }
    function flush() {
      document.getElementById("log").innerText = "";
    }

    document.getElementById("button").onclick = function (event) {
      flush();

      var i = 0;
      var includedAllKeys = false;
      var properties = [];
      while (!includedAllKeys && i < 10) {
        var keys = Object.keys(event);
        properties = properties.concat(keys);

        if (keys.indexOf("target") !== -1) {
          includedAllKeys = true;
        }

        event = Object.getPrototypeOf(event)
        i++;
      }

      if (i >= 10) {
        log("We did not terminate.")
      }

      log(properties.join(", "));
    };
  </script>
</body>

</html>
